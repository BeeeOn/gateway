<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BeeeOn Gateway: BeeeOn::DeviceStatusFetcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Gateway
   &#160;<span id="projectnumber">v2018.07.1-rc3-78-g33e0925</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html">DeviceStatusFetcher</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::DeviceStatusFetcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html" title="DeviceStatusFetcher is responsible for fetching pairing state of devices for the registered status ha...">DeviceStatusFetcher</a> is responsible for fetching pairing state of devices for the registered status handlers. The fetching is performed asynchronously and independently resulting in calling to the method <a class="el" href="classBeeeOn_1_1DeviceStatusHandler.html#a55cd1e38505c33abe8947574f7d87475" title="Handle device status as understood by a remote server. All devices of a certain prefix are notified i...">DeviceStatusHandler::handleRemoteStatus()</a> on the appropriate handlers.  
 <a href="classBeeeOn_1_1DeviceStatusFetcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DeviceStatusFetcher_8h_source.html">DeviceStatusFetcher.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::DeviceStatusFetcher:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1DeviceStatusFetcher.png" usemap="#BeeeOn::DeviceStatusFetcher_map" alt=""/>
  <map id="BeeeOn::DeviceStatusFetcher_map" name="BeeeOn::DeviceStatusFetcher_map">
<area href="classBeeeOn_1_1CommandSender.html" alt="BeeeOn::CommandSender" shape="rect" coords="0,56,182,80"/>
<area href="classBeeeOn_1_1StoppableRunnable.html" alt="BeeeOn::StoppableRunnable" shape="rect" coords="192,56,374,80"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="384,56,566,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixAnswer.html">PrefixAnswer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">To simplify <a class="el" href="classBeeeOn_1_1Answer.html">Answer</a> management, include the prefix of the connected <a class="el" href="classBeeeOn_1_1ServerDeviceListCommand.html">ServerDeviceListCommand</a> inside the answer.  <a href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixAnswer.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixStatus.html">PrefixStatus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a232a898a0369c41d2bad55627fb65294"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a232a898a0369c41d2bad55627fb65294"></a>
typedef Poco::SharedPtr<br class="typebreak"/>
&lt; <a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html">DeviceStatusFetcher</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a232a898a0369c41d2bad55627fb65294"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aae6ddf07de216eff0ca5b21e906189a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae6ddf07de216eff0ca5b21e906189a3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#aae6ddf07de216eff0ca5b21e906189a3">setIdleDuration</a> (const Poco::Timespan &amp;duration)</td></tr>
<tr class="memdesc:aae6ddf07de216eff0ca5b21e906189a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set duration how long to sleep while there is nothing to do. <br/></td></tr>
<tr class="separator:aae6ddf07de216eff0ca5b21e906189a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58d02df3deca5abd406133da7b265080"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58d02df3deca5abd406133da7b265080"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a58d02df3deca5abd406133da7b265080">setWaitTimeout</a> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="memdesc:a58d02df3deca5abd406133da7b265080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set timeout for AnswerQueue::wait() call. <br/></td></tr>
<tr class="separator:a58d02df3deca5abd406133da7b265080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e15363d958d792a4fbff47dea089a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28e15363d958d792a4fbff47dea089a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a28e15363d958d792a4fbff47dea089a7">setRepeatTimeout</a> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="memdesc:a28e15363d958d792a4fbff47dea089a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set timeout to wait until a request is re-issued after its unsuccessful finish (<a class="el" href="classBeeeOn_1_1Answer.html">Answer</a> was not fully successful). <br/></td></tr>
<tr class="separator:a28e15363d958d792a4fbff47dea089a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0b2ec7630aeb8e396c40dd118d931c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d0b2ec7630aeb8e396c40dd118d931c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a4d0b2ec7630aeb8e396c40dd118d931c">registerHandler</a> (DeviceStatusHandler::Ptr handler)</td></tr>
<tr class="memdesc:a4d0b2ec7630aeb8e396c40dd118d931c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the given device status handler. The <a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html" title="DeviceStatusFetcher is responsible for fetching pairing state of devices for the registered status ha...">DeviceStatusFetcher</a> would request a remote pairing registry (server) for the paired devices for that handler. <br/></td></tr>
<tr class="separator:a4d0b2ec7630aeb8e396c40dd118d931c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d7966674a59272adf98a605598c9d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4d7966674a59272adf98a605598c9d9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#aa4d7966674a59272adf98a605598c9d9">clearHandlers</a> ()</td></tr>
<tr class="memdesc:aa4d7966674a59272adf98a605598c9d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister all registered device status handlers. <br/></td></tr>
<tr class="separator:aa4d7966674a59272adf98a605598c9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4770523a2b7390310381add24ede55c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4770523a2b7390310381add24ede55c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>run</b> () override</td></tr>
<tr class="separator:a4770523a2b7390310381add24ede55c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef74283a734dcaa474edb9d2af14453b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#aef74283a734dcaa474edb9d2af14453b">stop</a> () override</td></tr>
<tr class="separator:aef74283a734dcaa474edb9d2af14453b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBeeeOn_1_1CommandSender"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBeeeOn_1_1CommandSender')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBeeeOn_1_1CommandSender.html">BeeeOn::CommandSender</a></td></tr>
<tr class="memitem:a253245ba6a7af4fb671b3182beaccf6a inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1CommandSender.html#a253245ba6a7af4fb671b3182beaccf6a">setCommandDispatcher</a> (<a class="el" href="classBeeeOn_1_1CommandDispatcher.html">CommandDispatcher</a> *dispatcher)</td></tr>
<tr class="separator:a253245ba6a7af4fb671b3182beaccf6a inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf881083d28284f9b4d5542f1d47899a inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1CommandSender.html#aaf881083d28284f9b4d5542f1d47899a">dispatch</a> (Poco::AutoPtr&lt; <a class="el" href="classBeeeOn_1_1Command.html">Command</a> &gt; cmd, Poco::AutoPtr&lt; <a class="el" href="classBeeeOn_1_1Answer.html">Answer</a> &gt; answer)</td></tr>
<tr class="separator:aaf881083d28284f9b4d5542f1d47899a inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2013cf12aed8921ddcf2a5458de6b5d4 inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1CommandSender.html#a2013cf12aed8921ddcf2a5458de6b5d4">dispatch</a> (Poco::AutoPtr&lt; <a class="el" href="classBeeeOn_1_1Command.html">Command</a> &gt; cmd)</td></tr>
<tr class="separator:a2013cf12aed8921ddcf2a5458de6b5d4 inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb29da373ec3a909daa01614a0b7116 inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeeeOn_1_1AnswerQueue.html">AnswerQueue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1CommandSender.html#aabb29da373ec3a909daa01614a0b7116">answerQueue</a> ()</td></tr>
<tr class="separator:aabb29da373ec3a909daa01614a0b7116 inherit pub_methods_classBeeeOn_1_1CommandSender"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a4c33e34629b4c7386f57e5e4390eeda1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a4c33e34629b4c7386f57e5e4390eeda1">FetchStatus</a> { <b>NOTHING</b>, 
<b>WOULD_REPEAT</b>, 
<b>ACTIVE</b>
 }</td></tr>
<tr class="memdesc:a4c33e34629b4c7386f57e5e4390eeda1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Denote certain situations of the status fetching. <br/></td></tr>
<tr class="separator:a4c33e34629b4c7386f57e5e4390eeda1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:abab472785f99cfa4aa6eed0e6e42ad90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a4c33e34629b4c7386f57e5e4390eeda1">FetchStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#abab472785f99cfa4aa6eed0e6e42ad90">fetchUndone</a> ()</td></tr>
<tr class="memdesc:abab472785f99cfa4aa6eed0e6e42ad90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine status handlers for which no fully successful request was made and dispatch <a class="el" href="classBeeeOn_1_1ServerDeviceListCommand.html">ServerDeviceListCommand</a> for them.  <a href="#abab472785f99cfa4aa6eed0e6e42ad90">More...</a><br/></td></tr>
<tr class="separator:abab472785f99cfa4aa6eed0e6e42ad90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2e9880ac321664ba5eb3f832fe3889"><td class="memItemLeft" align="right" valign="top">PrefixAnswer::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a0c2e9880ac321664ba5eb3f832fe3889">handleDirtyAnswer</a> (Answer::Ptr answer)</td></tr>
<tr class="memdesc:a0c2e9880ac321664ba5eb3f832fe3889"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check status of the given answer and if it is not pending and castable to <a class="el" href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixAnswer.html" title="To simplify Answer management, include the prefix of the connected ServerDeviceListCommand inside the...">PrefixAnswer</a>, it performs cast and returns it.  <a href="#a0c2e9880ac321664ba5eb3f832fe3889">More...</a><br/></td></tr>
<tr class="separator:a0c2e9880ac321664ba5eb3f832fe3889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7351d077e930e5d7e145e146ee9aac8f"><td class="memItemLeft" align="right" valign="top">std::set<br class="typebreak"/>
&lt; DeviceStatusHandler::Ptr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a7351d077e930e5d7e145e146ee9aac8f">matchHandlers</a> (const PrefixAnswer::Ptr answer) const </td></tr>
<tr class="separator:a7351d077e930e5d7e145e146ee9aac8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f485034eaa75409e2a7471f322dfc38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a2f485034eaa75409e2a7471f322dfc38">processAnswer</a> (PrefixAnswer::Ptr answer, std::set&lt; DeviceStatusHandler::Ptr &gt; handler)</td></tr>
<tr class="memdesc:a2f485034eaa75409e2a7471f322dfc38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process results of the given answer and the matching status handler. When any of the results is unsuccessful, all the answer is considered unsuccessful and it would be marked for repeated fetch.  <a href="#a2f485034eaa75409e2a7471f322dfc38">More...</a><br/></td></tr>
<tr class="separator:a2f485034eaa75409e2a7471f322dfc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfb0c6c07b72d8d2d03a6b4469f60f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdfb0c6c07b72d8d2d03a6b4469f60f6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#afdfb0c6c07b72d8d2d03a6b4469f60f6">collectPaired</a> (std::set&lt; <a class="el" href="classBeeeOn_1_1DeviceID.html">DeviceID</a> &gt; &amp;paired, const std::vector&lt; <a class="el" href="classBeeeOn_1_1DeviceID.html">DeviceID</a> &gt; &amp;received, const <a class="el" href="classBeeeOn_1_1Enum.html">DevicePrefix</a> &amp;prefix) const </td></tr>
<tr class="memdesc:afdfb0c6c07b72d8d2d03a6b4469f60f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process paired devices as given in a single <a class="el" href="classBeeeOn_1_1Answer.html">Answer</a> result. Only devices matching the given prefix would be used. Other devices are considered as a bug somewhere. <br/></td></tr>
<tr class="separator:afdfb0c6c07b72d8d2d03a6b4469f60f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html" title="DeviceStatusFetcher is responsible for fetching pairing state of devices for the registered status ha...">DeviceStatusFetcher</a> is responsible for fetching pairing state of devices for the registered status handlers. The fetching is performed asynchronously and independently resulting in calling to the method <a class="el" href="classBeeeOn_1_1DeviceStatusHandler.html#a55cd1e38505c33abe8947574f7d87475" title="Handle device status as understood by a remote server. All devices of a certain prefix are notified i...">DeviceStatusHandler::handleRemoteStatus()</a> on the appropriate handlers. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abab472785f99cfa4aa6eed0e6e42ad90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeeeOn_1_1DeviceStatusFetcher.html#a4c33e34629b4c7386f57e5e4390eeda1">DeviceStatusFetcher::FetchStatus</a> DeviceStatusFetcher::fetchUndone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine status handlers for which no fully successful request was made and dispatch <a class="el" href="classBeeeOn_1_1ServerDeviceListCommand.html">ServerDeviceListCommand</a> for them. </p>
<dl class="section return"><dt>Returns</dt><dd>whether there something to do </dd></dl>

</div>
</div>
<a class="anchor" id="a0c2e9880ac321664ba5eb3f832fe3889"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DeviceStatusFetcher::PrefixAnswer::Ptr DeviceStatusFetcher::handleDirtyAnswer </td>
          <td>(</td>
          <td class="paramtype">Answer::Ptr&#160;</td>
          <td class="paramname"><em>answer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check status of the given answer and if it is not pending and castable to <a class="el" href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixAnswer.html" title="To simplify Answer management, include the prefix of the connected ServerDeviceListCommand inside the...">PrefixAnswer</a>, it performs cast and returns it. </p>
<dl class="section return"><dt>Returns</dt><dd>instance of <a class="el" href="classBeeeOn_1_1DeviceStatusFetcher_1_1PrefixAnswer.html" title="To simplify Answer management, include the prefix of the connected ServerDeviceListCommand inside the...">PrefixAnswer</a> if it should be processed or null </dd></dl>

</div>
</div>
<a class="anchor" id="a7351d077e930e5d7e145e146ee9aac8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">set&lt; DeviceStatusHandler::Ptr &gt; DeviceStatusFetcher::matchHandlers </td>
          <td>(</td>
          <td class="paramtype">const PrefixAnswer::Ptr&#160;</td>
          <td class="paramname"><em>answer</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>status handler matching the given answer (by prefix) </dd></dl>

</div>
</div>
<a class="anchor" id="a2f485034eaa75409e2a7471f322dfc38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceStatusFetcher::processAnswer </td>
          <td>(</td>
          <td class="paramtype">PrefixAnswer::Ptr&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; DeviceStatusHandler::Ptr &gt;&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process results of the given answer and the matching status handler. When any of the results is unsuccessful, all the answer is considered unsuccessful and it would be marked for repeated fetch. </p>
<p>If there is at least one successful result, the method <a class="el" href="classBeeeOn_1_1DeviceStatusHandler.html#a55cd1e38505c33abe8947574f7d87475" title="Handle device status as understood by a remote server. All devices of a certain prefix are notified i...">DeviceStatusHandler::handleRemoteStatus()</a> is called once on the given handler as a result of the answer processing. </p>

</div>
</div>
<a class="anchor" id="aef74283a734dcaa474edb9d2af14453b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DeviceStatusFetcher::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stop the runnable. The call should not block. </p>

<p>Implements <a class="el" href="classBeeeOn_1_1StoppableRunnable.html#ad637a7273d906652c230c1e3aa2f6c7c">BeeeOn::StoppableRunnable</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/var/lib/jenkins/workspace/beeeon-gateway-master/src/core/<a class="el" href="DeviceStatusFetcher_8h_source.html">DeviceStatusFetcher.h</a></li>
<li>/var/lib/jenkins/workspace/beeeon-gateway-master/src/core/DeviceStatusFetcher.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
