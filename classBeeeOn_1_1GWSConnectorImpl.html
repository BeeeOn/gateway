<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BeeeOn Gateway: BeeeOn::GWSConnectorImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="BeeeOn.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BeeeOn Gateway
   &#160;<span id="projectnumber">v2018.12.1-rc1-32-g56d2e5f</span>
   </div>
   <div id="projectbrief">Platform to interconnect the IoT world</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BeeeOn</b></li><li class="navelem"><a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html">GWSConnectorImpl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BeeeOn::GWSConnectorImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements the communication via WebSockets with the remote server. Outgoing messages are prioritized based on the configured <a class="el" href="classBeeeOn_1_1GWSPriorityAssigner.html" title="Implementation of GWSPriorityAssigner interface provides a method for assigning of sending priority t...">GWSPriorityAssigner</a> instance. Incoming messages are broadcasted via the registered <a class="el" href="classBeeeOn_1_1GWSListener.html" title="GWSListener provides an interface for delivering of events and messages related to communication with...">GWSListener</a> instances. The <a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html" title="Implements the communication via WebSockets with the remote server. Outgoing messages are prioritized...">GWSConnectorImpl</a> takes care just for the lowest-level communication details:  
 <a href="classBeeeOn_1_1GWSConnectorImpl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GWSConnectorImpl_8h_source.html">GWSConnectorImpl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BeeeOn::GWSConnectorImpl:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeeeOn_1_1GWSConnectorImpl.png" usemap="#BeeeOn::GWSConnectorImpl_map" alt=""/>
  <map id="BeeeOn::GWSConnectorImpl_map" name="BeeeOn::GWSConnectorImpl_map">
<area href="classBeeeOn_1_1AbstractGWSConnector.html" title="Most GWSConnector implementations would solve the issue of sending prioritization and asynchronous qu..." alt="BeeeOn::AbstractGWSConnector" shape="rect" coords="104,56,302,80"/>
<area href="classBeeeOn_1_1StoppableRunnable.html" alt="BeeeOn::StoppableRunnable" shape="rect" coords="416,56,614,80"/>
<area href="classBeeeOn_1_1GWSConnector.html" title="GWSConnector is an abstract class that defines an API for communication with a remote server..." alt="BeeeOn::GWSConnector" shape="rect" coords="0,0,198,24"/>
<area href="classBeeeOn_1_1Loggable.html" alt="BeeeOn::Loggable" shape="rect" coords="208,0,406,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae8c8b00d139c229f103f137ed5c4423f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8c8b00d139c229f103f137ed5c4423f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setHost</b> (const std::string &amp;host)</td></tr>
<tr class="separator:ae8c8b00d139c229f103f137ed5c4423f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429dbeea6bdcc8cc129b6fd00959b10b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a429dbeea6bdcc8cc129b6fd00959b10b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPort</b> (int port)</td></tr>
<tr class="separator:a429dbeea6bdcc8cc129b6fd00959b10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221251b39345a3bc192cb033fea7501c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a221251b39345a3bc192cb033fea7501c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMaxMessageSize</b> (int size)</td></tr>
<tr class="separator:a221251b39345a3bc192cb033fea7501c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a911e23506455859eefca610401326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31a911e23506455859eefca610401326"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSSLConfig</b> (SSLClient::Ptr config)</td></tr>
<tr class="separator:a31a911e23506455859eefca610401326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853082b2611d82a2e13fe20200d95bdb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a853082b2611d82a2e13fe20200d95bdb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setReceiveTimeout</b> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="separator:a853082b2611d82a2e13fe20200d95bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b231addd87752009889e32df060919"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac9b231addd87752009889e32df060919"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setSendTimeout</b> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="separator:ac9b231addd87752009889e32df060919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7e645c7c9c27e124cff300e663fe7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd7e645c7c9c27e124cff300e663fe7e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setReconnectDelay</b> (const Poco::Timespan &amp;delay)</td></tr>
<tr class="separator:afd7e645c7c9c27e124cff300e663fe7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec59c2ed9da936f9ca48bdd0af4b223"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeec59c2ed9da936f9ca48bdd0af4b223"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setKeepAliveTimeout</b> (const Poco::Timespan &amp;timeout)</td></tr>
<tr class="separator:aeec59c2ed9da936f9ca48bdd0af4b223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3acfd7e4d9a810f576a1d4459c16214"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3acfd7e4d9a810f576a1d4459c16214"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMaxFailedReceives</b> (int count)</td></tr>
<tr class="separator:ae3acfd7e4d9a810f576a1d4459c16214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e3eb9d4dd599007e34645dab844edd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3e3eb9d4dd599007e34645dab844edd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setGatewayInfo</b> (GatewayInfo::Ptr info)</td></tr>
<tr class="separator:af3e3eb9d4dd599007e34645dab844edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78f56597e7e48ddfe0ef5142d33041c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad78f56597e7e48ddfe0ef5142d33041c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>run</b> ()</td></tr>
<tr class="separator:ad78f56597e7e48ddfe0ef5142d33041c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71f1bd7b4f5d19f6b41909733958a32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html#ad71f1bd7b4f5d19f6b41909733958a32">stop</a> ()</td></tr>
<tr class="separator:ad71f1bd7b4f5d19f6b41909733958a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBeeeOn_1_1AbstractGWSConnector')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html">BeeeOn::AbstractGWSConnector</a></td></tr>
<tr class="memitem:acd2959cac5c1ebfceac0717417ba28c6 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd2959cac5c1ebfceac0717417ba28c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOutputsCount</b> (int count)</td></tr>
<tr class="separator:acd2959cac5c1ebfceac0717417ba28c6 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871b0de37dc3cc44146e1f0974301b92 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a871b0de37dc3cc44146e1f0974301b92"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPriorityAssigner</b> (GWSPriorityAssigner::Ptr assigner)</td></tr>
<tr class="separator:a871b0de37dc3cc44146e1f0974301b92 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77642d6019d77f0d0563756ec5338c04 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77642d6019d77f0d0563756ec5338c04"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#a77642d6019d77f0d0563756ec5338c04">setupQueues</a> ()</td></tr>
<tr class="memdesc:a77642d6019d77f0d0563756ec5338c04 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup queues based on configuration. This must be called before the connector is started. <br/></td></tr>
<tr class="separator:a77642d6019d77f0d0563756ec5338c04 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a34836b22b52f45cf9207e9b20fa786 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a34836b22b52f45cf9207e9b20fa786"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#a9a34836b22b52f45cf9207e9b20fa786">send</a> (const GWMessage::Ptr message) override</td></tr>
<tr class="memdesc:a9a34836b22b52f45cf9207e9b20fa786 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the message into a queue and notify sender to check queues for updates. <br/></td></tr>
<tr class="separator:a9a34836b22b52f45cf9207e9b20fa786 inherit pub_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBeeeOn_1_1GWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBeeeOn_1_1GWSConnector')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBeeeOn_1_1GWSConnector.html">BeeeOn::GWSConnector</a></td></tr>
<tr class="memitem:ad314dfe525597f4619a8a695222da56b inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad314dfe525597f4619a8a695222da56b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnector.html#ad314dfe525597f4619a8a695222da56b">addListener</a> (GWSListener::Ptr listener)</td></tr>
<tr class="memdesc:ad314dfe525597f4619a8a695222da56b inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a <a class="el" href="classBeeeOn_1_1GWSListener.html" title="GWSListener provides an interface for delivering of events and messages related to communication with...">GWSListener</a> instance that would receive events related to the communication. <br/></td></tr>
<tr class="separator:ad314dfe525597f4619a8a695222da56b inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab360af61e31ba7835b8340c10ad3c169 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab360af61e31ba7835b8340c10ad3c169"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnector.html#ab360af61e31ba7835b8340c10ad3c169">clearListeners</a> ()</td></tr>
<tr class="memdesc:ab360af61e31ba7835b8340c10ad3c169 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all registered listeners. <br/></td></tr>
<tr class="separator:ab360af61e31ba7835b8340c10ad3c169 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecefbc1cc15192bdde367ee26262a07 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acecefbc1cc15192bdde367ee26262a07"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnector.html#acecefbc1cc15192bdde367ee26262a07">setEventsExecutor</a> (AsyncExecutor::Ptr executor)</td></tr>
<tr class="memdesc:acecefbc1cc15192bdde367ee26262a07 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure an <a class="el" href="classBeeeOn_1_1AsyncExecutor.html">AsyncExecutor</a> instance that would be used for <a class="el" href="classBeeeOn_1_1GWSListener.html" title="GWSListener provides an interface for delivering of events and messages related to communication with...">GWSListener</a> events delivery. <br/></td></tr>
<tr class="separator:acecefbc1cc15192bdde367ee26262a07 inherit pub_methods_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad4137129df2a350644d058eea51ee087"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4137129df2a350644d058eea51ee087"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>waitBeforeReconnect</b> ()</td></tr>
<tr class="separator:ad4137129df2a350644d058eea51ee087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5878ec7aeae4e6a7e61b34b89cf4055d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5878ec7aeae4e6a7e61b34b89cf4055d"></a>
Poco::SharedPtr<br class="typebreak"/>
&lt; Poco::Net::WebSocket &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>connect</b> (const std::string &amp;host, int port) const </td></tr>
<tr class="separator:a5878ec7aeae4e6a7e61b34b89cf4055d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d2f1f9ca3728af2bac9ad3584f5371"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3d2f1f9ca3728af2bac9ad3584f5371"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>performRegister</b> (Poco::Net::WebSocket &amp;socket) const </td></tr>
<tr class="separator:ab3d2f1f9ca3728af2bac9ad3584f5371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed0f715a6f0015e4c8d1c4f32da5cce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ed0f715a6f0015e4c8d1c4f32da5cce"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>performOutput</b> (Poco::Net::WebSocket &amp;socket)</td></tr>
<tr class="separator:a9ed0f715a6f0015e4c8d1c4f32da5cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fcca33951e6c52200125b497241957"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93fcca33951e6c52200125b497241957"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>performPing</b> (Poco::Net::WebSocket &amp;socket)</td></tr>
<tr class="separator:a93fcca33951e6c52200125b497241957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8ada2b713ed64b26b23a558bc9e1fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf8ada2b713ed64b26b23a558bc9e1fc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkPingTimeout</b> () const </td></tr>
<tr class="separator:abf8ada2b713ed64b26b23a558bc9e1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c19d4ef2f7dd23baadbb6a43b8136a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2c19d4ef2f7dd23baadbb6a43b8136a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>outputLoop</b> (<a class="el" href="classBeeeOn_1_1StopControl_1_1Run.html">StopControl::Run</a> &amp;run, Poco::Net::WebSocket &amp;socket)</td></tr>
<tr class="separator:ab2c19d4ef2f7dd23baadbb6a43b8136a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b669c33bc110afe2011647a364af47"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html#a48b669c33bc110afe2011647a364af47">waitOutputs</a> ()</td></tr>
<tr class="memdesc:a48b669c33bc110afe2011647a364af47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait while the output queues are empty. The waiting delay is driver by the keepAliveTimeout.  <a href="#a48b669c33bc110afe2011647a364af47">More...</a><br/></td></tr>
<tr class="separator:a48b669c33bc110afe2011647a364af47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671281b819f7010cf5593b566a1f9a82"><td class="memItemLeft" align="right" valign="top">const Poco::Timespan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html#a671281b819f7010cf5593b566a1f9a82">keepAliveRemaining</a> () const </td></tr>
<tr class="separator:a671281b819f7010cf5593b566a1f9a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad078c19ed8cdae9272cdc466e267c454"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad078c19ed8cdae9272cdc466e267c454"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onReadable</b> (const Poco::AutoPtr&lt; Poco::Net::ReadableNotification &gt; &amp;n)</td></tr>
<tr class="separator:ad078c19ed8cdae9272cdc466e267c454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9672517b9d6c06ea220a15fe50ddfca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9672517b9d6c06ea220a15fe50ddfca"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendMessage</b> (Poco::Net::WebSocket &amp;socket, const <a class="el" href="classBeeeOn_1_1GWMessage.html">GWMessage</a> &amp;message) const </td></tr>
<tr class="separator:ae9672517b9d6c06ea220a15fe50ddfca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e3ae0cdacef541ae95ee7b1cd31a1a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88e3ae0cdacef541ae95ee7b1cd31a1a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendFrame</b> (Poco::Net::WebSocket &amp;socket, const std::string &amp;payload, const int flags) const </td></tr>
<tr class="separator:a88e3ae0cdacef541ae95ee7b1cd31a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489a30ed99248976a119c8d0cf9535f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a489a30ed99248976a119c8d0cf9535f8"></a>
GWMessage::Ptr&#160;</td><td class="memItemRight" valign="bottom"><b>receiveMessage</b> (Poco::Net::WebSocket &amp;socket) const </td></tr>
<tr class="separator:a489a30ed99248976a119c8d0cf9535f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3724e92d7962aa225b16a0de6062980"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3724e92d7962aa225b16a0de6062980"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>receiveFrame</b> (Poco::Net::WebSocket &amp;socket, Poco::Buffer&lt; char &gt; &amp;buffer, int &amp;flags) const </td></tr>
<tr class="separator:ab3724e92d7962aa225b16a0de6062980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1AbstractGWSConnector')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html">BeeeOn::AbstractGWSConnector</a></td></tr>
<tr class="memitem:ad65889022b403cd1e50978c6d1f14464 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#ad65889022b403cd1e50978c6d1f14464">selectOutput</a> () const </td></tr>
<tr class="separator:ad65889022b403cd1e50978c6d1f14464 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3520636170184668a0c02a8c3d410e inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#abc3520636170184668a0c02a8c3d410e">updateOutputs</a> (size_t i)</td></tr>
<tr class="separator:abc3520636170184668a0c02a8c3d410e inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10a548cb70cfe54688e33a58d571912 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#ae10a548cb70cfe54688e33a58d571912">outputValid</a> (size_t i) const </td></tr>
<tr class="separator:ae10a548cb70cfe54688e33a58d571912 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365e160a1e208f29ba8a26000d02cebd inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top">GWMessage::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#a365e160a1e208f29ba8a26000d02cebd">peekOutput</a> (size_t i) const </td></tr>
<tr class="separator:a365e160a1e208f29ba8a26000d02cebd inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d71c91b54148327969a691d61c4a104 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d71c91b54148327969a691d61c4a104"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html#a8d71c91b54148327969a691d61c4a104">popOutput</a> (size_t i)</td></tr>
<tr class="memdesc:a8d71c91b54148327969a691d61c4a104 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop the first (oldest) message in the queue of the given index. <br/></td></tr>
<tr class="separator:a8d71c91b54148327969a691d61c4a104 inherit pro_methods_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1GWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1GWSConnector')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1GWSConnector.html">BeeeOn::GWSConnector</a></td></tr>
<tr class="memitem:a810497cafdbec6e139f26d71e9ec8907 inherit pro_methods_classBeeeOn_1_1GWSConnector"><td class="memTemplParams" colspan="2"><a class="anchor" id="a810497cafdbec6e139f26d71e9ec8907"></a>
template&lt;typename Event , typename Method &gt; </td></tr>
<tr class="memitem:a810497cafdbec6e139f26d71e9ec8907 inherit pro_methods_classBeeeOn_1_1GWSConnector"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>fireEvent</b> (const Event &amp;e, const Method &amp;m)</td></tr>
<tr class="separator:a810497cafdbec6e139f26d71e9ec8907 inherit pro_methods_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbfdcb91e471e857c9cea6e88c1d8fc inherit pro_methods_classBeeeOn_1_1GWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dbfdcb91e471e857c9cea6e88c1d8fc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fireReceived</b> (const GWMessage::Ptr message)</td></tr>
<tr class="separator:a7dbfdcb91e471e857c9cea6e88c1d8fc inherit pro_methods_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:af89c60789e75cb07103e46d40a3ebb32 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af89c60789e75cb07103e46d40a3ebb32"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupLogger</b> (Poco::Logger *logger=0) const </td></tr>
<tr class="separator:af89c60789e75cb07103e46d40a3ebb32 inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f8405547e70200fe594a24906d7e7e inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46f8405547e70200fe594a24906d7e7e"></a>
Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b> () const </td></tr>
<tr class="separator:a46f8405547e70200fe594a24906d7e7e inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28780034cab771631dfb4db98a7954bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a28780034cab771631dfb4db98a7954bb inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeba38a43bcc45e65dfb6455ad8ad2e1d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Loggable</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:aeba38a43bcc45e65dfb6455ad8ad2e1d inherit pro_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classBeeeOn_1_1GWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classBeeeOn_1_1GWSConnector')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classBeeeOn_1_1GWSConnector.html">BeeeOn::GWSConnector</a></td></tr>
<tr class="memitem:a1f1697023d1aecc2f2360d21e9f54030 inherit pub_types_classBeeeOn_1_1GWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f1697023d1aecc2f2360d21e9f54030"></a>
typedef Poco::SharedPtr<br class="typebreak"/>
&lt; <a class="el" href="classBeeeOn_1_1GWSConnector.html">GWSConnector</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b></td></tr>
<tr class="separator:a1f1697023d1aecc2f2360d21e9f54030 inherit pub_types_classBeeeOn_1_1GWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classBeeeOn_1_1Loggable"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classBeeeOn_1_1Loggable')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classBeeeOn_1_1Loggable.html">BeeeOn::Loggable</a></td></tr>
<tr class="memitem:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae93889eade4537aea6abb3f383a8463e"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forMethod</b> (const char *name)</td></tr>
<tr class="separator:ae93889eade4537aea6abb3f383a8463e inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a559c00fe671201e7ee5cebf19706491d"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const <a class="el" href="classBeeeOn_1_1ClassInfo.html">ClassInfo</a> &amp;info)</td></tr>
<tr class="separator:a559c00fe671201e7ee5cebf19706491d inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99f58cf545bb5550c42fbb75d4645c4a"></a>
static Poco::Logger &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>forClass</b> (const std::type_info &amp;info)</td></tr>
<tr class="separator:a99f58cf545bb5550c42fbb75d4645c4a inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplParams" colspan="2"><a class="anchor" id="a9ddc275e696705f0e68a5332d2cd5960"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memTemplItemLeft" align="right" valign="top">static Poco::Logger &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>forInstance</b> (const T *i)</td></tr>
<tr class="separator:a9ddc275e696705f0e68a5332d2cd5960 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c03d407c8269d8fc9f71f0161ae17ae"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>configureSimple</b> (Poco::Logger &amp;logger, const std::string &amp;level)</td></tr>
<tr class="separator:a5c03d407c8269d8fc9f71f0161ae17ae inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5ab586b4bd8f9f97552e475a008db44"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logException</b> (Poco::Logger &amp;logger, const Poco::Message::Priority priority, const Poco::Exception &amp;e, const char *file, size_t line)</td></tr>
<tr class="separator:ad5ab586b4bd8f9f97552e475a008db44 inherit pro_static_methods_classBeeeOn_1_1Loggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classBeeeOn_1_1AbstractGWSConnector"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBeeeOn_1_1AbstractGWSConnector')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBeeeOn_1_1AbstractGWSConnector.html">BeeeOn::AbstractGWSConnector</a></td></tr>
<tr class="memitem:ab1897da6455c8697aaac128837111eab inherit pro_attribs_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1897da6455c8697aaac128837111eab"></a>
Poco::Event&#160;</td><td class="memItemRight" valign="bottom"><b>m_outputsUpdated</b></td></tr>
<tr class="separator:ab1897da6455c8697aaac128837111eab inherit pro_attribs_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e35dbcfbdd8e138d91e25c6d7f7d02 inherit pro_attribs_classBeeeOn_1_1AbstractGWSConnector"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67e35dbcfbdd8e138d91e25c6d7f7d02"></a>
Poco::Mutex&#160;</td><td class="memItemRight" valign="bottom"><b>m_outputLock</b></td></tr>
<tr class="separator:a67e35dbcfbdd8e138d91e25c6d7f7d02 inherit pro_attribs_classBeeeOn_1_1AbstractGWSConnector"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements the communication via WebSockets with the remote server. Outgoing messages are prioritized based on the configured <a class="el" href="classBeeeOn_1_1GWSPriorityAssigner.html" title="Implementation of GWSPriorityAssigner interface provides a method for assigning of sending priority t...">GWSPriorityAssigner</a> instance. Incoming messages are broadcasted via the registered <a class="el" href="classBeeeOn_1_1GWSListener.html" title="GWSListener provides an interface for delivering of events and messages related to communication with...">GWSListener</a> instances. The <a class="el" href="classBeeeOn_1_1GWSConnectorImpl.html" title="Implements the communication via WebSockets with the remote server. Outgoing messages are prioritized...">GWSConnectorImpl</a> takes care just for the lowest-level communication details: </p>
<ul>
<li>reconnecting in case of failures,</li>
<li>sending messages,</li>
<li>receiving messages,</li>
<li>keep alive ping-pong. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a671281b819f7010cf5593b566a1f9a82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Timespan GWSConnectorImpl::keepAliveRemaining </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>remaining timeout before keep-alive timeout exceeds </dd></dl>

</div>
</div>
<a class="anchor" id="ad71f1bd7b4f5d19f6b41909733958a32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GWSConnectorImpl::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stop the runnable. The call should not block. </p>

<p>Implements <a class="el" href="classBeeeOn_1_1StoppableRunnable.html#ad637a7273d906652c230c1e3aa2f6c7c">BeeeOn::StoppableRunnable</a>.</p>

</div>
</div>
<a class="anchor" id="a48b669c33bc110afe2011647a364af47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GWSConnectorImpl::waitOutputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait while the output queues are empty. The waiting delay is driver by the keepAliveTimeout. </p>
<dl class="section return"><dt>Returns</dt><dd>true if no keep-alive is necessary, false when the keepAliveTimeout has exceeded </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/var/lib/jenkins/workspace/beeeon-gateway-master/src/server/<a class="el" href="GWSConnectorImpl_8h_source.html">GWSConnectorImpl.h</a></li>
<li>/var/lib/jenkins/workspace/beeeon-gateway-master/src/server/GWSConnectorImpl.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
